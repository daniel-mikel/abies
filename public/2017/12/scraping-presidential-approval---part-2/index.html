

  
    
  


  





  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31 with theme Tranquilpeak 0.4.3-BETA">
    <title>Scraping Presidential Approval - Part 2</title>
    <meta name="author" content="Daniel Mikel">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="The other day I built my first web scraper for a single page. I ended the blogpost pretty satisfied with myself and thought I’d come back to the project at a later date to try to build my first web scraper to take all the presidential approval ratings from the site. I didn’t know how hard it would be at the time, and I was at the end of a long day at work.">
    <meta property="og:description" content="The other day I built my first web scraper for a single page. I ended the blogpost pretty satisfied with myself and thought I’d come back to the project at a later date to try to build my first web scraper to take all the presidential approval ratings from the site. I didn’t know how hard it would be at the time, and I was at the end of a long day at work.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Scraping Presidential Approval - Part 2">
    <meta property="og:url" content="/2017/12/scraping-presidential-approval---part-2/">
    <meta property="og:site_name" content="Abies">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Abies">
    <meta name="twitter:description" content="The other day I built my first web scraper for a single page. I ended the blogpost pretty satisfied with myself and thought I’d come back to the project at a later date to try to build my first web scraper to take all the presidential approval ratings from the site. I didn’t know how hard it would be at the time, and I was at the end of a long day at work.">
    
      <meta name="twitter:creator" content="@dmikel2010">
    
    

    
    

    
      <meta property="og:image" content="https://pbs.twimg.com/profile_images/924482790019686400/b990M9b3_400x400.jpg">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Abies</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="https://pbs.twimg.com/profile_images/924482790019686400/b990M9b3_400x400.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="https://pbs.twimg.com/profile_images/924482790019686400/b990M9b3_400x400.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Daniel Mikel</h4>
        
          <h5 class="sidebar-profile-bio">This is a blog I started for myself to practice and share my R progress. This website is powered by blogdown and run through Rstudio</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/daniel-mikel">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/dmikel2010">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/daniel-mikel-32428350/">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Scraping Presidential Approval - Part 2
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-12-16T14:27:12-05:00">
        
  December 16, 2017

      </time>
    
    
  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>The other day I built my first web scraper for a single page. I ended the blogpost pretty satisfied with myself and thought I’d come back to the project at a later date to try to build my first web scraper to take all the presidential approval ratings from the site. I didn’t know how hard it would be at the time, and I was at the end of a long day at work. It might be because the University of California at Santa Barbara’s <a href="http://www.presidency.ucsb.edu/index.php">The American Presidency Project</a> was uniquely easy to scrape due to it’s url but it took me like 7 minutes. A nice surprise.</p>
<p>If want to read my previous post about scrapping, cleaning, and tidying data from a single page from the <a href="http://www.presidency.ucsb.edu/index.php">The American Presidency Project</a> check out my previous post <a href="https://abies.netlify.com/2017/12/scraping-presidential-approval/">here</a>.</p>
<p>I used two packages for this project: rvest for scrapping the data from the web, and tidyverse to do most of the manipulation of the scrapped data.</p>
<pre class="r"><code>library(&quot;rvest&quot;)
library(&quot;tidyverse&quot;)</code></pre>
<p>Then I just used my function from last time, but just iterated over the different url’s. I noticed that the two digit numeric chunk in the center of the url corresponed to the number of the presidency. Easy enough. All I needed was a column which I could use to discern different presidencys (I could go by data but this was more efficient).</p>
<pre class="r"><code>all_pres &lt;- as.data.frame(NULL)

for (i in 1:(45-31)){
  i &lt;- i +31
  
  # get url
  url &lt;- paste0(&quot;http://www.presidency.ucsb.edu/data/popularity.php?pres=&quot;, i, &quot;&amp;sort=time&amp;direct=DESC&amp;Submit=DISPLAY&quot;)
  
  # scrape data and save as character vector              
  webpage &lt;- read_html(url)
  approval_html &lt;- html_nodes(webpage, &#39;.listdate&#39;)
  approval_data &lt;- html_text(approval_html, trim = TRUE)
  
  # clean character vector of empty data
  approval_data[approval_data==&quot;&quot;] &lt;- NA
  approval_data[1:2] &lt;- NA
  approval_data &lt;- na.omit(approval_data)
  
  # convert to data.fame
  pres_matrix &lt;- matrix(approval_data, ncol = 5, byrow = TRUE)
  pres_df &lt;- as.data.frame(pres_matrix, stringsAsFactors = FALSE)
  names(pres_df) &lt;- c(&quot;start_date&quot;, &quot;end_date&quot;, &quot;approve&quot;, &quot;disapprove&quot;, &quot;unsure&quot;)
  
  # clean up object classes
  pres_df[] &lt;- lapply(pres_df, type.convert)
  pres_df$start_date &lt;- as.Date(pres_df$start_date, 
                                 format = &quot;%m/%d/%Y&quot;)
  pres_df$end_date &lt;- as.Date(pres_df$end_date, 
                               format = &quot;%m/%d/%Y&quot;)
  
  # keep information on which president the row of data represents
  pres_df$number &lt;- i
  
  # get data into single dataframe
  all_pres &lt;- rbind(all_pres, pres_df)
}</code></pre>
<p>That was easier than I thought. I didn’t really believe it would work on my first try. Scrapping data from mutliple webpages would probably be pretty challenging on a website with a more opaque url pattern, but I really shouldn’t have psyched myself out of scrapping data from the web.</p>
<p>On another note, I probably didn’t need to clean the data that much before combining it into a single dataframe, but given the small volume of data I was processing this didn’t noticably slow down my code.</p>
<p>Now we just need to get it ready to graph:</p>
<pre class="r"><code>tidy_pres &lt;- all_pres %&gt;%
  gather(opinion, percent, -c(number, start_date, end_date)) </code></pre>
<p>Now we can graph whichever POTUS’ approval rating we feel like.</p>
<pre class="r"><code>cols &lt;- c(&quot;approve&quot; = &quot;#8BBF9F&quot;, &quot;disapprove&quot; = &quot;#F7A278&quot;, &quot;unsure&quot; = &quot;#A4BFEB&quot;)

tidy_pres %&gt;%
  filter(number == &quot;34&quot;) %&gt;%
  ggplot(aes(x = end_date, y = percent, col = opinion)) +
  geom_jitter(alpha = 0.5, shape = 1) +
  geom_smooth(method = &quot;gam&quot;,  formula = y ~ s(x, bs = &quot;cs&quot;), se = F) +
  theme_minimal() + 
  scale_colour_manual(values = cols)</code></pre>
<p><img src="/post/2017-12-16-scraping-presidential-approval-part-2_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>I made a shiny app:</p>
<iframe src="https://daniel-mikel.shinyapps.io/pres_approve_ucsb/?showcase=0" width="768" height="650px">
</iframe>
<p>For some reason running geom_smooth(method = “gam”) was tripping an error when publishing on the shiny server. I ended up just switching to a loess function, but I wasn’t happy that I couldn’t find a direct fix.</p>
<p>Here’s the code for the shiny app:</p>
<pre class="r"><code>library(shiny)
library(tidyverse)
library(scales)

tidy_pres &lt;- read.csv(&quot;tidy_pres.csv&quot;, stringsAsFactors = FALSE)

tidy_pres$start_date &lt;- as.Date(tidy_pres$start_date, 
                                format = &quot;%Y-%m-%d&quot;)
tidy_pres$end_date &lt;- as.Date(tidy_pres$end_date, 
                              format = &quot;%Y-%m-%d&quot;)
tidy_pres$number &lt;- as.numeric(tidy_pres$number)

cols &lt;- c(&quot;approve&quot; = &quot;#8BBF9F&quot;, &quot;disapprove&quot; = &quot;#F7A278&quot;, &quot;unsure&quot; = &quot;#A4BFEB&quot;)

ui &lt;- fluidPage(
  
  titlePanel(&quot;Presidential Approval Rating&quot;),
  
  fluidRow(
    column(selectizeInput(&quot;number&quot;, &quot;Select POTUS&quot;,
                          choices = c(&quot;Franklin D. Roosevelt&quot; = &quot;32&quot;,
                                      &quot;Harry S. Truman&quot; = &quot;33&quot;,
                                      &quot;Dwight D. Eisenhower&quot; = &quot;34&quot;,
                                      &quot;John F. Kennedy&quot; = &quot;35&quot;,
                                      &quot;Lyndon B. Johnson&quot; = &quot;36&quot;,
                                      &quot;Richard Nixon&quot; = &quot;37&quot;,
                                      &quot;Gerald Ford&quot; = &quot;38&quot;,
                                      &quot;Jimmy Carter&quot; = &quot;39&quot;,
                                      &quot;Ronald Reagan&quot; = &quot;40&quot;,
                                      &quot;George H. W. Bush&quot; = &quot;41&quot;,
                                      &quot;Bill Clinton&quot; = &quot;42&quot;,
                                      &quot;George W. Bush&quot; = &quot;43&quot;,
                                      &quot;Barack Obama&quot; = &quot;44&quot;,
                                      &quot;Donald Trump&quot; = &quot;45&quot;),
                          selected = &quot;35&quot;),
           width = 3),
    
    plotOutput(&quot;pres_plot&quot;)
  )
)

server &lt;- function(input, output){
  filtered &lt;- reactive({
    tidy_pres %&gt;%
      filter(number == input$number) 
  })
  
  output$pres_plot &lt;- renderPlot({
    ggplot(data = filtered(), aes(x = as.Date(end_date, format = &quot;%Y-%m-%d&quot;), y = percent, col = opinion)) +
      geom_jitter(alpha = 0.6, size = 1.5) +
      stat_smooth(span = 0.3, se= F) +
      scale_x_date(date_breaks = &quot;4 month&quot;, labels = date_format(&quot;%m-%Y&quot;)) +
      scale_y_continuous(breaks = seq(0, 100, by = 10)) +
      ylab(&quot;Percent&quot;) +
      xlab(NULL) +
      theme_minimal() +
      theme(axis.text.x=element_text(angle=60, hjust=1)) + 
      scale_colour_manual(values = cols)
    
  })
}

shinyApp(ui = ui, server = server)</code></pre>
<p>The visual style is pretty similar to the (FiveThirtyEight’s Trump Approval Tracker)[<a href="https://projects.fivethirtyeight.com/trump-approval-ratings/?ex_cid=rrpromo" class="uri">https://projects.fivethirtyeight.com/trump-approval-ratings/?ex_cid=rrpromo</a>], just with less functionallity and data. I should really come up with a more distinct visual style…</p>
<p>I’ll probably set this project down for a little while after this. I’m pretty happy that I’ve gotten some experience with web scrapping, and it’s pretty cool to finally be using my R skills for something politics related.</p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/scraping-presidential-approval/" data-tooltip="Scraping Presidential Approval">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2017 Daniel Mikel. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/scraping-presidential-approval/" data-tooltip="Scraping Presidential Approval">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/12/scraping-presidential-approval---part-2/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="2">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2017%2F12%2Fscraping-presidential-approval---part-2%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2017%2F12%2Fscraping-presidential-approval---part-2%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2017%2F12%2Fscraping-presidential-approval---part-2%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://pbs.twimg.com/profile_images/924482790019686400/b990M9b3_400x400.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Daniel Mikel</h4>
    
      <div id="about-card-bio">This is a blog I started for myself to practice and share my R progress. This website is powered by blogdown and run through Rstudio</div>
    
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Sacramento, CA
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/scraping-presidential-approval---part-2/">
                <h3 class="media-heading">Scraping Presidential Approval - Part 2</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">The other day I built my first web scraper for a single page. I ended the blogpost pretty satisfied with myself and thought I’d come back to the project at a later date to try to build my first web scraper to take all the presidential approval ratings from the site. I didn’t know how hard it would be at the time, and I was at the end of a long day at work.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/scraping-presidential-approval/">
                <h3 class="media-heading">Scraping Presidential Approval</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This is my first data scrapping project. I’ve taken a few tutorials in the past, but never really took the time to try out the technique. Data scrapping seems like a pretty handy tool to have in a world where people really don’t give a shit if you can use their data (and sometimes discourage it).
I’ve been pretty much addicted to 538 politics since at least 2012, but probably before that.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/california-wine----part-1/">
                <h3 class="media-heading">California Wine  - Part 1</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">The United States Department of Agriculture publishes contract level price and volume data for California grapes crushed and used for wine. This allows us to see each purchase of a wine variety, what variety, it’s price, and the tonnage in the purchased amoung, giving us a disaggregated level data of data ripe for analysis. This is intended to be the first in a series of blog posts analysing the dynamics of the California.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/cleaning-data/">
                <h3 class="media-heading">Cleaning Data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">California Wine The first project I’m going to work on is with California Wine Grape Data. The data we’ll start with is hosted by the United States Department of Agriculture’s Grape Crush Report which collects wine price, production, and acreage for California by wine variety disaggregated to either the Grape Price District (this can mean one county or several counties) or the individual grape purchasing contract.
California Grape Price Districts Image</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         4 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/john_muir_yosemite.png');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2017\/12\/scraping-presidential-approval---part-2\/';
          
            this.page.identifier = '\/2017\/12\/scraping-presidential-approval---part-2\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'Daniel Mikel';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

